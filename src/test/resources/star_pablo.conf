schema = itam

base-uri = "hdfs://localhost:9000"

parquet-path = ${base-uri}/base

parquet-sample-path = ${base-uri}/sample

unknown = unknown

default-end-date = 9999-12-31

sample-size = 100000

env {
  driver = net.sourceforge.jtds.jdbc.Driver
  host = 192.168.177.196
  port = 1433
  user = sa
  password = Bazougle1
  db = PABLO
  instance = MSSQLSERVER2014
  url = "jdbc:jtds:sqlserver://"${env.host}":"${env.port}/${env.db}";instance="${env.instance}";user="${env.user}";password="${env.password}
}

dims {

  "PABLO_DWH.T0200_ITAM_INCIDENTS_DH_NEW" = [
    [[ASSIGNEE, ASSIGNED_GROUP, ASSIGNED_SUPPORT_ORGANIZATION], []]
    [[CATEGORIZATION_TIER_1, CATEGORIZATION_TIER_2, CATEGORIZATION_TIER_3], []]
    [[SERVICE_TYPE], []]
    [[ORIGIN_SYSTEM], []]
    [[PRIORITY], []]
    [[PRODUCT_NAME, PRODUCT_CATEGORIZATION_TIER_1, PRODUCT_CATEGORIZATION_TIER_2, PRODUCT_CATEGORIZATION_TIER_3], []]
    [[RESOLUTION_CATEGORY, RESOLUTION_CATEGORY_TIER_2, RESOLUTION_CATEGORY_TIER_3], []]
    [[RESOLUTION_METHOD], []]
    [[STATUS], []]
    [[STATUS_REASON, STATUS_REASON2], []]
    [[SERVICE_LEVEL], []]
    [[CLOSURE_PRODUCT_NAME, CLOSURE_PRODUCT_CATEGORY_TIER1, CLOSURE_PRODUCT_CATEGORY_TIER2, CLOSURE_PRODUCT_CATEGORY_TIER3], []]
    [[AREA_TYPE], []]
    [[CI_TYPE], []]
    [[CLEARED_BY], []]
    [[NFCS_ACTION_CODE], [NFCS_ACTION_DESCRIPTION]]
    [[NFCS_CAUSE_CODE], [NFCS_CAUSE_DESCRIPTION]]
    [[NFCS_CONDITION_CODE], []]
    [[NFCS_DIAGNOSIS_CODE], []]
    [[NFCS_LOCATION_CODE], [NFCS_LOCATION_DESCRIPTION]]
    [[NFCS_PART_OF_PLANT_1_CODE], []]
    [[NFCS_CONDITION_CODE], [NFCS_PART_OF_PLANT_1_DESC]]
    [[NFCS_PART_OF_PLANT_2_CODE], [NFCS_PART_OF_PLANT_2_DESC]]
    [[NFCS_SOURCE_CODE], [NFCS_SOURCE_DESCRIPTION]]
    [[NFCS_SUPPORT_CODE], [NFCS_SUPPORT_DESCRIPTION]]
    [[NFCS_SYMPTOM_CODE], [NFCS_SYMPTOM_DESCRIPTION]]
    [[OUTAGE], []]
    [[OWNER, OWNER_GROUP, OWNER_SUPPORT_ORGANIZATION], []]
    [[D_TOW_TYPE], []]
    [[X_CLOSURE_PRODUCT], []]
  ]

  "PABLO_DWH.T0400_ITAM_PROBLEM_DH" = [
    [[INVESTIGATION_STATUS], []]
    [[PRIORITY], []]
    [[URGENCY], []]
    [[IMPACT], []]
    [[ORIGIN_SYSTEM], []]
    [[PRODUCT_NAME, PRODUCT_CATEGORIZATION_TIER_1, PRODUCT_CATEGORIZATION_TIER_2, PRODUCT_CATEGORIZATION_TIER_3], []]
    [[OP_CATEGORIZATION_TIER_1, OP_CATEGORIZATION_TIER_2, OP_CATEGORIZATION_TIER_3], []]
    [[INVESTIGATION_DRIVER], []]
    [[ORGANIZATION], []]
    [[ASSIGNEE, ASSIGNED_GROUP, ASSIGNED_SUPPORT_ORGANIZATION], []]
    [[ASSIGNEE_PBLM_MGR, ASSIGNED_GROUP_PBLM_MGR, SUPPORT_ORGANIZATION_PBLM_MGR, SUPPORT_COMPANY_PBLM_MGR], []]
    [[NFCS_ACTION_CODE], [NFCS_ACTION_DESCRIPTION]]
    [[NFCS_CAUSE_CODE], [NFCS_CAUSE_DESCRIPTION]]
    [[NFCS_CONDITION_CODE], []]
    [[NFCS_DIAGNOSIS_CODE], []]
    [[NFCS_LOCATION_CODE], [NFCS_LOCATION_DESCRIPTION]]
    [[NFCS_PART_OF_PLANT_1_CODE], [NFCS_PART_OF_PLANT_1_DESC]]
    [[NFCS_PART_OF_PLANT_2_CODE], [NFCS_PART_OF_PLANT_2_DESC]]
    [[NFCS_SOURCE_CODE], [NFCS_SOURCE_DESCRIPTION]]
    [[NFCS_SUPPORT_CODE], [NFCS_SUPPORT_DESCRIPTION]]
    [[NFCS_SYMPTOM_CODE], [NFCS_SYMPTOM_DESCRIPTION]]
    [[IS_CURRENT], []]
  ]

  "PABLO_DWH.T0450_ITAM_KNOWN_ERRORS_DH" = [
    [[KNOWN_ERROR_STATUS], []]
    [[STATUS_REASON], []]
    [[VIEW_ACCESS], []]
    [[SEARCHABLE_FLAG], []]
    [[IMPACT], []]
    [[URGENCY], []]
    [[PRIORITY], []]
    [[WEIGHT], []]
    [[DESTINATION_SYSTEM], [DESTINATION_SYSTEM_REFERENCE]]
    [[ORIGIN_SYSTEM], []]
    [[COMPANY], []]
    [[CATEGORY], []]
    [[OP_CATEGORIZATION_TIER_1, OP_CATEGORIZATION_TIER_2, OP_CATEGORIZATION_TIER_3], []]
    [[PRODUCT_NAME, PRODUCT_CATEGORIZATION_TIER_1, PRODUCT_CATEGORIZATION_TIER_2, PRODUCT_CATEGORIZATION_TIER_3], []]
    [[ROOT_CAUSE], []]
    [[KNOWN_ERROR_PROBLEM_MANAGER, PROBLEM_MANAGER_ASSIGNED_GRP, PROBLEM_MANAGER_SUPPORT_ORG, PROBLEM_MANAGER_SUPPORT_COMP], []]
    [[KNOWN_ERROR_ASSIGNEE, ASSIGNEE_SUPPORT_ORG, ASSIGNEE_SUPPORT_COMP], []]
    [[KNOWN_ERROR_VENDOR], []]
  ]
}

times {
  startTime = [DATA_PERIOD_START, yyyy-MM-dd]
  endTime = [DATA_VALID_TO, yyyy-MM-dd]
}

keys {
  "PABLO_DWH.T0200_ITAM_INCIDENTS_DH_NEW" = [INCIDENT_NUMBER]
}

facts {
  "PABLO_DWH.T0200_ITAM_INCIDENTS_DH_NEW" = [
    INCIDENT_NUMBER
    LATEST_KEY
    CLOSED_DATE
    RESPONDED_DATE
    SUBMIT_DATE
    REPORTED_DATE
    LAST_MODIFIED_BY
    LAST_MODIFIED_DATE
    LAST_RESOLVED_DATE
    NUMBER_OF_USERS_IMPACTED
    IMPACTED_USERS
    IMPACTED_USERS_BIGPOND
    IMPACTED_USERS_FOXTEL
    IMPACTED_USERS_FTA
    D_RESOLVED_HOURS
    D_RESOLVED_SLA_HOURS
    D_PASSED_RESPONSE
    D_PASSED_RESOLVE
    D_RESOLVING_NS_TIME
    D_RESOLVING_NS_USER
    D_FIRST_NS_USER
    D_FIRST_NS_TIME
    D_FIRST_NS_STATUS
  ]
}

tables = [
  PABLO_DSTAGE.CHG_ASSOCIATIONS
  PABLO_DWH.D5020_NITO_EMPLOYEE
  PABLO_DSTAGE.HPD_WORKLOG
  PABLO_DWH.I0150_ITAM_CHANGE_AUDIT_DH
  PABLO_DWH.I0230_ITAM_AUDIT_DH
  PABLO_DWH.I0230_ITAM_AUDIT_DH_RANKED
  PABLO_DWH.I0401_ITAM_PROBLEM_AUDIT_DH
  PABLO_DWH.I0410_ITAM_PROBLEM_ASSOC_DH
  PABLO_DWH.I0460_KNOWN_ERROR_ASSOC_DH
  PABLO_DWH.I2010_CONEN_CO_ARCH_DH
  PABLO_DWH.I2020_NEADVICE_NE_ARCH_DH
  PABLO_DSTAGE.ITAM_ASSOCIATIONS
  PABLO_DSTAGE.KNOWN_ERROR_ASSOCIATIONS
  PABLO_DSTAGE.PROBLEM_ASSOCIATIONS
  PABLO_DWH.T0100_ITAM_CHANGE_DH
  PABLO_DWH.T0200_ITAM_INCIDENTS_DH_NEW
  PABLO_DWH.T0400_ITAM_PROBLEM_DH
  PABLO_DSTAGE.T0400_PEBBLE_DATA
  PABLO_DWH.T0450_ITAM_KNOWN_ERRORS_DH
  PABLO_DSTAGE.T0450_PEBBLE_DATA
  PABLO_DWH.T2010_CONEN_CO_ARCH_DH
  PABLO_DWH.T2020_NEADVICE_NE_ARCH_DH
]